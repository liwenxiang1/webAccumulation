"use strict";(self.webpackChunkliwx_docs=self.webpackChunkliwx_docs||[]).push([[6817],{2598:(n,e,s)=>{s.r(e),s.d(e,{comp:()=>p,data:()=>l});var a=s(641);const o=[(0,a.Fv)('<h2 id="介绍一下-definemodel" tabindex="-1"><a class="header-anchor" href="#介绍一下-definemodel"><span>介绍一下 defineModel</span></a></h2><p>在 <code>Vue 3 </code>中，<code>defineModel</code> 是一个用于简化双向绑定的函数，通常与组合式函数（<code>composition function）</code>一起使用。</p><p><strong>一、主要作用</strong></p><ol><li><p>自动解包响应式对象：</p><ul><li>当在组合式函数中使用响应式对象时，使用 <code>defineModel</code> 可以自动解包响应式对象的属性，使得这些属性可以在模板中直接使用，无需通过<code>.value </code>来访问。</li></ul><ul><li>例如，如果有一个响应式对象 <code>state</code>，其中包含属性 <code>count</code>，在不使用 <code>defineModel</code> 时，在模板中需要使用 <code>state.count.value</code> 来访问 <code>count</code> 的值。但使用 <code>defineModel</code> 后，可以直接在模板中使用 <code>count</code>。</li></ul></li><li><p>实现双向绑定：</p><ul><li><p>配合 <code>v-model</code> 指令使用时，<code>defineModel</code> 可以轻松实现双向绑定。它会自动处理输入事件，并将新的值更新到响应式对象中。</p></li><li><p>例如，在一个自定义组件中，使用 <code>defineModel</code> 可以让组件的 <code>props </code>中的一个值与组件内部的状态实现双向绑定，使得父组件和子组件之间的数据传递更加方便。</p></li></ul></li></ol><p><strong>二、使用方法</strong></p><ol><li><p>导入<code>defineModel</code></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">//在组合式函数中，首先需要从&#39;vue&#39;模块中导入`defineModel`函数。</span>\n\n<span class="token keyword">import</span> <span class="token punctuation">{</span> defineModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>使用 <code>defineModel</code>：</p><ul><li>在组合式函数内部，将需要双向绑定的响应式对象作为参数传递给 <code>defineModel</code>。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">useCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token function">defineModel</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token literal-property property">count</span><span class="token operator">:</span> state<span class="token punctuation">.</span>count<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>在上面的例子中，<code>state.count </code>是一个响应式属性，通过<code> defineModel</code> 函数返回后，可以在模板中直接使用 <code>count</code> 进行双向绑定。</li></ul></li><li><p>在模板中使用：</p><ul><li>在组件的模板中，可以使用<code>v-model</code>指令来绑定使用了 <code>defineModel</code> 的属性。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>\n  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>\n    <span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;count&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>\n  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>\n<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>\n<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>\n<span class="token keyword">import</span> useCounter <span class="token keyword">from</span> <span class="token string">&quot;./useCounter&quot;</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> <span class="token punctuation">{</span> count <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>在这个例子中，input 元素的 v-model 绑定了 count 属性，当用户在输入框中输入内容时，count 的值会自动更新，实现了双向绑定。</li></ul></li></ol><h2 id="都是支持响应式-definemodel-和-reactive-有何不同" tabindex="-1"><a class="header-anchor" href="#都是支持响应式-definemodel-和-reactive-有何不同"><span>都是支持响应式， defineModel 和 reactive 有何不同</span></a></h2><p><strong>一、功能目的</strong></p><ol><li><code>reactive：</code></li></ol><p>主要用于创建<code>响应式对象</code>。它接收一个普通的 <code>JavaScript</code> 对象，并将其转换为响应式对象，使得对这个对象的属性进行修改时，可以触发依赖这个对象的组件重新渲染。</p><ol start="2"><li><code>defineModel：</code></li></ol><p>主要用于在组合式函数中<code>简化双向绑定的实现</code>。它通常与 <code>reactive</code> 等响应式函数一起使用，<code>自动解包</code>响应式对象的属性，使得这些属性可以在模板中直接使用，无需通过<code>.value</code> 来访问，并且方便与 <code>v-model</code> 指令配合实现双向绑定。</p><p><strong>二、使用方式</strong></p><ol><li><code>reactive：</code></li></ol><p>直接接收一个普通对象作为参数，返回一个响应式对象。这个响应式对象的属性可以在组件的逻辑部分（如 setup 函数、方法等）中被修改，从而触发视图更新。</p><ol start="2"><li><code>defineModel：</code></li></ol><p>在组合式函数中使用，通常返回一个对象，其中包含需要进行双向绑定的属性。这个对象中的属性可以在模板中直接使用 v-model 指令进行双向绑定。</p><p><strong>三、作用范围</strong></p><ol><li><code>reactive：</code></li></ol><p>创建的响应式对象可以在整个组件中使用，包括模板、setup 函数、方法等。它主要用于管理组件的状态数据，使得这些数据的变化能够反映到视图中。</p><ol start="2"><li><code>defineModel：</code> 主要作用于组合式函数中，用于处理特定的逻辑并返回可以在模板中进行双向绑定的属性。它的作用范围相对较窄，主要是为了方便实现双向绑定的场景。</li></ol>',21)],t={},p=(0,s(6262).A)(t,[["render",function(n,e){return(0,a.uX)(),(0,a.CE)("div",null,o)}]]),l=JSON.parse('{"path":"/mianshi/%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8BdefineModel.html","title":"","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"介绍一下 defineModel","slug":"介绍一下-definemodel","link":"#介绍一下-definemodel","children":[]},{"level":2,"title":"都是支持响应式， defineModel 和 reactive 有何不同","slug":"都是支持响应式-definemodel-和-reactive-有何不同","link":"#都是支持响应式-definemodel-和-reactive-有何不同","children":[]}],"git":{},"filePathRelative":"mianshi/介绍一下defineModel.md"}')}}]);