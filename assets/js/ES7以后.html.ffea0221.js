"use strict";(self.webpackChunkliwx_docs=self.webpackChunkliwx_docs||[]).push([[2544],{5234:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>l,data:()=>i});var t=a(641);const e=a.p+"assets/img/flatMap.57d75a2f.jpg",p=a.p+"assets/img/fromEntries.4cff9d30.jpg",o=[(0,t.Fv)('<h1 id="es7-新增的常用方法" tabindex="-1"><a class="header-anchor" href="#es7-新增的常用方法"><span>ES7 新增的常用方法</span></a></h1><h2 id="array-includes" tabindex="-1"><a class="header-anchor" href="#array-includes"><span>Array.includes</span></a></h2><p>可以判断 NaN,传统的 indexof()不能正确判断 NaN</p><h2 id="指数运算符" tabindex="-1"><a class="header-anchor" href="#指数运算符"><span>指数运算符</span></a></h2><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">//  之前</span>\n<span class="token keyword">const</span> result <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// ES7</span>\n<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">**</span> <span class="token number">10</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="es8" tabindex="-1"><a class="header-anchor" href="#es8"><span>ES8</span></a></h1><h2 id="object-values" tabindex="-1"><a class="header-anchor" href="#object-values"><span>Object.values</span></a></h2><p>获取对象所有的 value 值</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ &#39;a&#39;, 19 ]</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ &#39;a&#39;, &#39;b&#39; ]</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ &#39;a&#39;, &#39;b&#39;, &#39;c&#39; ]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="object-entries" tabindex="-1"><a class="header-anchor" href="#object-entries"><span>Object.entries</span></a></h2><p>获取对象的键值对<code>[[key1,value1],[key2,value2]]</code></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ [ &#39;name&#39;, &#39;a&#39; ], [ &#39;age&#39;, 19 ] ]</span>\n<span class="token comment">// 数组，索引值为key</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ [ &#39;0&#39;, &#39;a&#39; ], [ &#39;1&#39;, &#39;b&#39; ] ]</span>\n<span class="token comment">// 字符串，每个字符索引值为key</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ [ &#39;0&#39;, &#39;a&#39; ], [ &#39;1&#39;, &#39;b&#39; ], [ &#39;2&#39;, &#39;c&#39; ] ]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="string-padding-填充" tabindex="-1"><a class="header-anchor" href="#string-padding-填充"><span>String.Padding(填充)</span></a></h2><p>对字符串前后填充，<code>padStart</code> 在前面填充，<code>padEnd</code> 在后面填充</p><h3 id="string-padstart" tabindex="-1"><a class="header-anchor" href="#string-padstart"><span>String.padStart</span></a></h3><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;x&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// xxabc</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;x&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// abcxx</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="string-padend" tabindex="-1"><a class="header-anchor" href="#string-padend"><span>String.padEnd</span></a></h3><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;x&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// xxabc</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;x&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// abcxx</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="函数参数默认值" tabindex="-1"><a class="header-anchor" href="#函数参数默认值"><span>函数参数默认值</span></a></h2><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">q<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="async-await" tabindex="-1"><a class="header-anchor" href="#async-await"><span>async/await</span></a></h2><h2 id="object-getownpropertydescriptors-和-object-setownpropertydescriptors" tabindex="-1"><a class="header-anchor" href="#object-getownpropertydescriptors-和-object-setownpropertydescriptors"><span>Object.getOwnPropertyDescriptors 和 Object.setOwnPropertyDescriptors</span></a></h2><p>获取对象所有的属性描述符，设置对象所有的属性描述符</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> descriptors <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>descriptors<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="es9-es2018" tabindex="-1"><a class="header-anchor" href="#es9-es2018"><span>ES9(ES2018)</span></a></h1><h2 id="async-函数的修饰符" tabindex="-1"><a class="header-anchor" href="#async-函数的修饰符"><span>Async 函数的修饰符</span></a></h2><h2 id="promise-finally" tabindex="-1"><a class="header-anchor" href="#promise-finally"><span>Promise.finally</span></a></h2><h1 id="es10" tabindex="-1"><a class="header-anchor" href="#es10"><span>ES10</span></a></h1><h2 id="flat-flatmap-降维" tabindex="-1"><a class="header-anchor" href="#flat-flatmap-降维"><span>flat flatMap(降维)</span></a></h2><p>对数组降维，<code>flatMap</code> 会先执行 map 方法，再执行 flat 方法,默认是 1，一次降维</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 2, 3, 4, 5, 6 ]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>flatMap(callback, thisArg) 生成新的数组 callback:回调函数 thisArg：绑定 this flatMap 的应用的应用场景 <img src="'+e+'" alt=""></p><h2 id="object-fromentries" tabindex="-1"><a class="header-anchor" href="#object-fromentries"><span>Object.fromEntries</span></a></h2><p>将键值对数组转换为对象</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">[</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: &#39;a&#39;, age: 19 }</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>应用场景： <img src="'+p+'" alt=""></p><h2 id="trimstart-trimend" tabindex="-1"><a class="header-anchor" href="#trimstart-trimend"><span>trimStart trimEnd</span></a></h2><p>去除字符串前后的空格</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&#39;  a  &#39;</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">trimStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;a  &#39;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">trimEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;  a&#39;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="symbol-description" tabindex="-1"><a class="header-anchor" href="#symbol-description"><span>Symbol.description</span></a></h2><p>获取 Symbol 的描述</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h1 id="es11" tabindex="-1"><a class="header-anchor" href="#es11"><span>ES11</span></a></h1><h2 id="bigint" tabindex="-1"><a class="header-anchor" href="#bigint"><span>BigInt</span></a></h2><p>早些时候不能正确表示大于 <code>MAX_SAFE_INTEGER</code> 的整数，现在可以了</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// ES11之前</span>\n<span class="token keyword">const</span> max <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>max <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9007199254740992</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>max <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9007199254740992</span>\n\n<span class="token comment">// 之后,最后添加n,表示是BigInt类型</span>\n<span class="token keyword">const</span> max <span class="token operator">=</span> <span class="token number">9007199254740992n</span><span class="token punctuation">;</span>\n<span class="token comment">// 普通数字和大数字不能直接计算</span>\n<span class="token keyword">const</span> max <span class="token operator">=</span> <span class="token constant">MAX_SAFE_INTEGER</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>max <span class="token operator">+</span> <span class="token number">1n</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>max <span class="token operator">+</span> <span class="token function">BigInt</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9007199254740993n</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nullish-coalescing-operator-空值合并运算符" tabindex="-1"><a class="header-anchor" href="#nullish-coalescing-operator-空值合并运算符"><span>Nullish Coalescing Operator(空值合并运算符)</span></a></h2><p>当左侧操作数为 null 或 undefined 时，返回右侧操作数，否则返回左侧操作数</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// ES11之前</span>\n<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>\n<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>\n<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>\n<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;&#39;</span>\n<span class="token keyword">const</span> e <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token comment">// ES11</span>\n<span class="token keyword">const</span> f <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token operator">??</span> <span class="token number">1</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>\n<span class="token keyword">const</span> g <span class="token operator">=</span> <span class="token keyword">undefined</span> <span class="token operator">??</span> <span class="token number">1</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>\n<span class="token keyword">const</span> h <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token operator">??</span> <span class="token number">1</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;&#39;</span>\n<span class="token keyword">const</span> i <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token operator">??</span> <span class="token number">1</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>\n<span class="token keyword">const</span> j <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">??</span> <span class="token number">1</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="optional-chaining-可选链运算符" tabindex="-1"><a class="header-anchor" href="#optional-chaining-可选链运算符"><span>Optional Chaining(可选链运算符)</span></a></h2><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">friend</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token comment">// ES11之前</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>friend<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// b</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>friend<span class="token punctuation">.</span>friend<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>\n<span class="token comment">// ES11</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>friend<span class="token operator">?.</span>friend<span class="token operator">?.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="globalthis" tabindex="-1"><a class="header-anchor" href="#globalthis"><span>GlobalThis</span></a></h2><p>获取全局对象.浏览器获取的是 window，node 获取的是 global</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>GlobalThis<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="对-for-in-做了标准化" tabindex="-1"><a class="header-anchor" href="#对-for-in-做了标准化"><span>对 for...in 做了标准化</span></a></h2><p>遍历对象的可枚举属性，规定 key 为对象的 key</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span>\n  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// name age</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="es12" tabindex="-1"><a class="header-anchor" href="#es12"><span>ES12</span></a></h1><h2 id="finalizationregistry" tabindex="-1"><a class="header-anchor" href="#finalizationregistry"><span>finalizationRegistry</span></a></h2><p>垃圾回收机制，可以监听对象被垃圾回收的时候，做一些事情</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> registry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FinalizationRegistry</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token string">&#39;注册在registry的对象被垃圾回收了&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;a&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">19</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token comment">// 注册对象，obj为对象，&#39;obj&#39;为标记.registry.register(obj,value)</span>\nregistry<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;obj&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nregistry<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>age<span class="token punctuation">,</span> <span class="token string">&#39;age&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// 手动设为null，下次垃圾回收的时候会被销毁</span>\nobj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="weakref" tabindex="-1"><a class="header-anchor" href="#weakref"><span>WeakRef</span></a></h2><p>弱引用，可以引用对象，但是不会阻止垃圾回收</p><blockquote><p>WeakRef.prototype.deref() 返回当前实例的 WeakRef 对象所绑定的 target 对象， 如果该 target 对象已被 GC 回收则返回 undefined</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;a&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> weakObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakRef</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>weakObj<span class="token punctuation">.</span><span class="token function">deref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { name: &#39;a&#39; }</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="logicalassignment-逻辑赋值运算符" tabindex="-1"><a class="header-anchor" href="#logicalassignment-逻辑赋值运算符"><span>logicalAssignment(逻辑赋值运算符)</span></a></h2><blockquote><p><code>!!=</code> 逻辑或赋值运算</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n<span class="token comment">// 原来</span>\nmessage <span class="token operator">=</span> message <span class="token operator">||</span> <span class="token string">&#39;default value&#39;</span><span class="token punctuation">;</span>\n<span class="token comment">// ES12</span>\nmessage <span class="token operator">!</span><span class="token operator">!=</span> <span class="token string">&#39;default value&#39;</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>&amp;&amp;=</code> 逻辑与赋值运算</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n<span class="token comment">// 原来</span>\nmessage <span class="token operator">=</span> message <span class="token operator">&amp;&amp;</span> <span class="token string">&#39;default value&#39;</span><span class="token punctuation">;</span>\n<span class="token comment">// ES12</span>\nmessage <span class="token operator">&amp;&amp;=</span> <span class="token string">&#39;default value&#39;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>??=</code> 逻辑空赋值运算</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>\n<span class="token comment">// 原来</span>\nmessage <span class="token operator">=</span> message <span class="token operator">??</span> <span class="token string">&#39;default value&#39;</span><span class="token punctuation">;</span>\n<span class="token comment">// ES12</span>\nmessage <span class="token operator">??=</span> <span class="token string">&#39;default value&#39;</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="replaceall" tabindex="-1"><a class="header-anchor" href="#replaceall"><span>replaceAll</span></a></h2><blockquote><p>replaceAll(searchValue, replacement)</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&#39;abcabc&#39;</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;d&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ddbcd</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>',75)],c={},l=(0,a(6262).A)(c,[["render",function(n,s){return(0,t.uX)(),(0,t.CE)("div",null,o)}]]),i=JSON.parse('{"path":"/markdown/%E5%89%8D%E7%AB%AF/ES6/ES7%E4%BB%A5%E5%90%8E.html","title":"ES7 新增的常用方法","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"Array.includes","slug":"array-includes","link":"#array-includes","children":[]},{"level":2,"title":"指数运算符","slug":"指数运算符","link":"#指数运算符","children":[]},{"level":2,"title":"Object.values","slug":"object-values","link":"#object-values","children":[]},{"level":2,"title":"Object.entries","slug":"object-entries","link":"#object-entries","children":[]},{"level":2,"title":"String.Padding(填充)","slug":"string-padding-填充","link":"#string-padding-填充","children":[{"level":3,"title":"String.padStart","slug":"string-padstart","link":"#string-padstart","children":[]},{"level":3,"title":"String.padEnd","slug":"string-padend","link":"#string-padend","children":[]}]},{"level":2,"title":"函数参数默认值","slug":"函数参数默认值","link":"#函数参数默认值","children":[]},{"level":2,"title":"async/await","slug":"async-await","link":"#async-await","children":[]},{"level":2,"title":"Object.getOwnPropertyDescriptors 和 Object.setOwnPropertyDescriptors","slug":"object-getownpropertydescriptors-和-object-setownpropertydescriptors","link":"#object-getownpropertydescriptors-和-object-setownpropertydescriptors","children":[]},{"level":2,"title":"Async 函数的修饰符","slug":"async-函数的修饰符","link":"#async-函数的修饰符","children":[]},{"level":2,"title":"Promise.finally","slug":"promise-finally","link":"#promise-finally","children":[]},{"level":2,"title":"flat flatMap(降维)","slug":"flat-flatmap-降维","link":"#flat-flatmap-降维","children":[]},{"level":2,"title":"Object.fromEntries","slug":"object-fromentries","link":"#object-fromentries","children":[]},{"level":2,"title":"trimStart trimEnd","slug":"trimstart-trimend","link":"#trimstart-trimend","children":[]},{"level":2,"title":"Symbol.description","slug":"symbol-description","link":"#symbol-description","children":[]},{"level":2,"title":"BigInt","slug":"bigint","link":"#bigint","children":[]},{"level":2,"title":"Nullish Coalescing Operator(空值合并运算符)","slug":"nullish-coalescing-operator-空值合并运算符","link":"#nullish-coalescing-operator-空值合并运算符","children":[]},{"level":2,"title":"Optional Chaining(可选链运算符)","slug":"optional-chaining-可选链运算符","link":"#optional-chaining-可选链运算符","children":[]},{"level":2,"title":"GlobalThis","slug":"globalthis","link":"#globalthis","children":[]},{"level":2,"title":"对 for...in 做了标准化","slug":"对-for-in-做了标准化","link":"#对-for-in-做了标准化","children":[]},{"level":2,"title":"finalizationRegistry","slug":"finalizationregistry","link":"#finalizationregistry","children":[]},{"level":2,"title":"WeakRef","slug":"weakref","link":"#weakref","children":[]},{"level":2,"title":"logicalAssignment(逻辑赋值运算符)","slug":"logicalassignment-逻辑赋值运算符","link":"#logicalassignment-逻辑赋值运算符","children":[]},{"level":2,"title":"replaceAll","slug":"replaceall","link":"#replaceall","children":[]}],"git":{},"filePathRelative":"markdown/前端/ES6/ES7以后.md"}')}}]);