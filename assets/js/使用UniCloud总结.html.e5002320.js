"use strict";(self.webpackChunkliwx_docs=self.webpackChunkliwx_docs||[]).push([[8474],{8010:(t,d,l)=>{l.r(d),l.d(d,{comp:()=>y,data:()=>q});var e=l(641);const n=l.p+"assets/img/1.70b73311.jpg",r=(0,e.Lk)("h1",{id:"unicloud数据库",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#unicloud数据库"},[(0,e.Lk)("span",null,"UniCloud数据库")])],-1),o={href:"https://uniapp.dcloud.net.cn/uniCloud/cf-database?id=%E9%9B%86%E5%90%88-collection",target:"_blank",rel:"noopener noreferrer"},a=(0,e.Lk)("blockquote",null,[(0,e.Lk)("p",null,"关于UniCloud数据库的操作文档已经部署到服务器上：")],-1),u={href:"https://zhaoyj.work/markdown/unicloud/README.html#1",target:"_blank",rel:"noopener noreferrer"},c=(0,e.Lk)("strong",null,"uniCloud数据库文档",-1),h={href:"https://zhaoyj.work/markdown/unicloud_aggregate/README.html#1",target:"_blank",rel:"noopener noreferrer"},k=(0,e.Lk)("strong",null,"uniCloud数据库聚合操作文档",-1),i=(0,e.Lk)("h2",{id:"详细操作目录",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#详细操作目录"},[(0,e.Lk)("span",null,"详细操作目录")])],-1),s=(0,e.Lk)("thead",null,[(0,e.Lk)("tr",null,[(0,e.Lk)("th",null,"操作"),(0,e.Lk)("th",null,"说明")])],-1),b=(0,e.Lk)("td",null,"数据新增",-1),E=(0,e.Lk)("strong",null,"database_add",-1),m=(0,e.Lk)("td",null,"数据删除",-1),p=(0,e.Lk)("strong",null,"database_delete",-1),L=(0,e.Lk)("td",null,"数据修改",-1),A=(0,e.Lk)("strong",null,"database_update",-1),g=(0,e.Lk)("td",null,"数据查找",-1),f=(0,e.Lk)("strong",null,"database_query",-1),C=(0,e.Lk)("td",null,"数据库操作符",-1),B=(0,e.Lk)("strong",null,"database_command",-1),F=(0,e.Lk)("td",null,"聚合操作",-1),w=(0,e.Lk)("strong",null,"database_aggregate",-1),D=(0,e.Fv)('<h3 id="一、对集合collection的操作" tabindex="-1"><a class="header-anchor" href="#一、对集合collection的操作"><span>一、对集合<code>Collection</code>的操作</span></a></h3><p>通过 <code>db.collection(name)</code> 可以获取指定集合的引用，在集合上可以进行以下操作</p><table><thead><tr><th>类型</th><th>接口</th><th>说明</th></tr></thead><tbody><tr><td>写</td><td>[add</td><td>新增记录（触发请求）</td></tr><tr><td>计数</td><td>count</td><td>获取符合条件的记录条数</td></tr><tr><td>读</td><td>get</td><td>获取集合中的记录，如果有使用 where 语句定义查询条件，则会返回匹配结果集 (触发请求)</td></tr><tr><td>引用</td><td>doc</td><td>获取对该集合中指定 id 的记录的引用</td></tr><tr><td>查询条件</td><td>where</td><td>通过指定条件筛选出匹配的记录，可搭配查询指令（eq, gt, in, ...）使用</td></tr><tr><td></td><td>skip</td><td>跳过指定数量的文档，常用于分页，传入 offset</td></tr><tr><td></td><td>orderBy</td><td>排序方式</td></tr><tr><td></td><td>limit</td><td>返回的结果集(文档数量)的限制，有默认值和上限值</td></tr><tr><td></td><td>field</td><td>指定需要返回的字段</td></tr></tbody></table><blockquote><p>查询及更新指令用于在 <code>where</code> 中指定字段需满足的条件，指令可通过 <code>db.command</code> 对象取得。</p></blockquote><h4 id="二、-记录-record-document" tabindex="-1"><a class="header-anchor" href="#二、-记录-record-document"><span>二、 记录 Record / Document</span></a></h4><blockquote><p>通过 <code>db.collection(collectionName).doc(docId)</code> 可以获取指定集合上指定 id 的记录的引用，在记录上可以进行以下操作</p></blockquote><table><thead><tr><th>接口</th><th>说明</th><th></th></tr></thead><tbody><tr><td>写</td><td>set</td><td>覆写记录</td></tr><tr><td></td><td>update</td><td>局部更新记录(触发请求)</td></tr><tr><td></td><td>remove</td><td>删除记录(触发请求)</td></tr><tr><td>读</td><td>get</td><td>获取记录(触发请求)</td></tr></tbody></table><h4 id="三、查询筛选指令-query-command" tabindex="-1"><a class="header-anchor" href="#三、查询筛选指令-query-command"><span>三、查询筛选指令 Query Command</span></a></h4><blockquote><p>以下指令挂载在 <code>db.command</code> 下</p></blockquote><table><thead><tr><th>类型</th><th>接口</th><th>说明</th></tr></thead><tbody><tr><td>比较运算</td><td>eq</td><td>字段等于 ==</td></tr><tr><td></td><td>neq</td><td>字段不等于 !=</td></tr><tr><td></td><td>gt</td><td>字段大于 &gt;</td></tr><tr><td></td><td>gte</td><td>字段大于等于 &gt;=</td></tr><tr><td></td><td>lt</td><td>字段小于 &lt;</td></tr><tr><td></td><td>lte</td><td>字段小于等于 &lt;=</td></tr><tr><td></td><td>in</td><td>字段值在数组里</td></tr><tr><td></td><td>nin</td><td>字段值不在数组里</td></tr><tr><td>逻辑运算</td><td>and</td><td>表示需同时满足指定的所有条件</td></tr><tr><td></td><td>or</td><td>表示需同时满足指定条件中的至少一个</td></tr></tbody></table><h4 id="四、字段更新指令-update-command" tabindex="-1"><a class="header-anchor" href="#四、字段更新指令-update-command"><span>四、字段更新指令 Update Command</span></a></h4><blockquote><p>以下指令挂载在 <code>db.command</code> 下</p></blockquote><table><thead><tr><th>类型</th><th>接口</th><th>说明</th></tr></thead><tbody><tr><td>字段</td><td>set</td><td>设置字段值</td></tr><tr><td></td><td>remove</td><td>删除字段</td></tr><tr><td></td><td>inc</td><td>加一个数值，原子自增</td></tr><tr><td></td><td>mul</td><td>乘一个数值，原子自乘</td></tr><tr><td></td><td>push</td><td>数组类型字段追加尾元素，支持数组</td></tr><tr><td></td><td>pop</td><td>数组类型字段删除尾元素，支持数组</td></tr><tr><td></td><td>shift</td><td>数组类型字段删除头元素，支持数组</td></tr><tr><td></td><td>unshift</td><td>数组类型字段追加头元素，支持数组</td></tr></tbody></table><h3 id="日志" tabindex="-1"><a class="header-anchor" href="#日志"><span>日志</span></a></h3><p>使用<code>uni-clientdb</code>控件时，在浏览器查看所有数据可以使用<code>unidev.clientDB.data</code><img src="'+n+'" alt=""></p>',15),_={},y=(0,l(6262).A)(_,[["render",function(t,d){const l=(0,e.g2)("ExternalLinkIcon"),n=(0,e.g2)("RouteLink");return(0,e.uX)(),(0,e.CE)("div",null,[r,(0,e.Lk)("p",null,[(0,e.Lk)("a",o,[(0,e.eW)("unicloud数据库官方文档"),(0,e.bF)(l)])]),a,(0,e.Lk)("p",null,[(0,e.Lk)("a",u,[c,(0,e.bF)(l)])]),(0,e.Lk)("p",null,[(0,e.Lk)("a",h,[k,(0,e.bF)(l)])]),i,(0,e.Lk)("table",null,[s,(0,e.Lk)("tbody",null,[(0,e.Lk)("tr",null,[b,(0,e.Lk)("td",null,[(0,e.bF)(n,{to:"/markdown/%E5%89%8D%E7%AB%AF/UniCloud/%E6%96%B0%E5%A2%9E%E6%96%87%E6%A1%A3.html"},{default:(0,e.k6)((()=>[E])),_:1})])]),(0,e.Lk)("tr",null,[m,(0,e.Lk)("td",null,[(0,e.bF)(n,{to:"/markdown/%E5%89%8D%E7%AB%AF/UniCloud/%E5%88%A0%E9%99%A4%E6%96%87%E6%A1%A3.html"},{default:(0,e.k6)((()=>[p])),_:1})])]),(0,e.Lk)("tr",null,[L,(0,e.Lk)("td",null,[(0,e.bF)(n,{to:"/markdown/%E5%89%8D%E7%AB%AF/UniCloud/%E6%9B%B4%E6%96%B0%E6%96%87%E6%A1%A3.html"},{default:(0,e.k6)((()=>[A])),_:1})])]),(0,e.Lk)("tr",null,[g,(0,e.Lk)("td",null,[(0,e.bF)(n,{to:"/markdown/%E5%89%8D%E7%AB%AF/UniCloud/%E6%9F%A5%E8%AF%A2%E6%96%87%E6%A1%A3.html"},{default:(0,e.k6)((()=>[f])),_:1})])]),(0,e.Lk)("tr",null,[C,(0,e.Lk)("td",null,[(0,e.bF)(n,{to:"/markdown/%E5%89%8D%E7%AB%AF/UniCloud/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E7%AC%A6.html"},{default:(0,e.k6)((()=>[B])),_:1})])]),(0,e.Lk)("tr",null,[F,(0,e.Lk)("td",null,[(0,e.bF)(n,{to:"/markdown/%E5%89%8D%E7%AB%AF/UniCloud-%E8%81%9A%E5%90%88%E6%93%8D%E4%BD%9C/%E8%81%9A%E5%90%88%E6%93%8D%E4%BD%9C0.html"},{default:(0,e.k6)((()=>[w])),_:1})])])])]),D])}]]),q=JSON.parse('{"path":"/markdown/%E5%89%8D%E7%AB%AF/UniCloud/%E4%BD%BF%E7%94%A8UniCloud%E6%80%BB%E7%BB%93.html","title":"UniCloud数据库","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"详细操作目录","slug":"详细操作目录","link":"#详细操作目录","children":[{"level":3,"title":"一、对集合Collection的操作","slug":"一、对集合collection的操作","link":"#一、对集合collection的操作","children":[]},{"level":3,"title":"日志","slug":"日志","link":"#日志","children":[]}]}],"git":{},"filePathRelative":"markdown/前端/UniCloud/使用UniCloud总结.md"}')}}]);