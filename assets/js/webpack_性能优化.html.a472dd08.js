"use strict";(self.webpackChunkliwx_docs=self.webpackChunkliwx_docs||[]).push([[1598],{8565:(e,l,i)=>{i.r(l),i.d(l,{comp:()=>u,data:()=>k});var n=i(641);const c=i.p+"assets/img/代码分离.54f28a48.jpg",a=i.p+"assets/img/optimization.8dd105ff.jpg",d=i.p+"assets/img/CDN配置.42b2c888.jpg",p=(0,n.Fv)('<h1 id="性能优化" tabindex="-1"><a class="header-anchor" href="#性能优化"><span>性能优化</span></a></h1><h2 id="打包后的结果进行优化" tabindex="-1"><a class="header-anchor" href="#打包后的结果进行优化"><span>打包后的结果进行优化</span></a></h2><h3 id="分包处理-路由懒加载-splitchunkplugin-import-函数" tabindex="-1"><a class="header-anchor" href="#分包处理-路由懒加载-splitchunkplugin-import-函数"><span>分包处理（路由懒加载） splitChunkPlugin / import 函数</span></a></h3><ol><li><p>方式一代码分离</p><p><strong>不分包弊端：</strong></p><ul><li>都放在一个 <code>bundle</code> 不方便管理</li><li><code>bundle.js</code> 包非常大，影响首屏加载速度，使用户长时间看到的都是空白页面</li></ul><p><strong>解决方法：</strong></p><ul><li><p>把业务代码、第三方包（<code>node_modules</code>）和业务代码、<code>webpack</code> 为了支持运行时模块化生成的运行时代码分开打包。首屏只加载需要的 <code>bundle</code>,其他模块需要的时候在加载，或者网络空闲时利用 <code>prefetch</code> 加载</p></li><li><p><code>SSR</code> 加快首屏速度，优化 <code>seo</code></p></li></ul><p><img src="'+c+'" alt=""></p></li><li><p>方式二动态导入</p><p>使用 <code>import</code> 导入模块，<code>webpack</code> 默认会将 <code>import</code> 的模块单独打包成一个文件，在需要的时候加载</p></li><li><p>方式三 <code>splitChunkPlugin</code></p><p><code>webpack</code> 内置的 <code>splitChunkPlugin</code> 插件，可以手动配置如何分包 optimization.splitChunks 的 chuncks 设置为 all，就会把所有模块都进行分包，不分异步还是同步。 <img src="'+a+'" alt=""></p></li><li><p>方式四 <code>prefetch</code> 和 <code>preload</code></p><ul><li><code>prefetch</code> 网络空闲时加载</li><li><code>preload</code> 当前页面需要加载</li></ul></li></ol><h3 id="代码压缩" tabindex="-1"><a class="header-anchor" href="#代码压缩"><span>代码压缩</span></a></h3><h3 id="删除无用代码-tree-shaking" tabindex="-1"><a class="header-anchor" href="#删除无用代码-tree-shaking"><span>删除无用代码（tree-shaking）</span></a></h3><h3 id="cdn-服务器加载-需要-购买-cdn-服务器" tabindex="-1"><a class="header-anchor" href="#cdn-服务器加载-需要-购买-cdn-服务器"><span>CDN 服务器加载 需要 购买 CDN 服务器</span></a></h3><p><img src="'+d+'" alt=""></p>',8),t={href:"https://leetcode.cn/problems/132-pattern/",target:"_blank",rel:"noopener noreferrer"},o=(0,n.Lk)("h2",{id:"打包速度优化",tabindex:"-1"},[(0,n.Lk)("a",{class:"header-anchor",href:"#打包速度优化"},[(0,n.Lk)("span",null,"打包速度优化")])],-1),s=(0,n.Lk)("ol",null,[(0,n.Lk)("li",null,"cache 缓存"),(0,n.Lk)("li",null,"exclude 缩小又换范围")],-1),r=(0,n.Lk)("p",null,[(0,n.Lk)("code",null,"webpack"),(0,n.eW)(" 动态导入 "),(0,n.Lk)("code",null,"import"),(0,n.eW)(" 加快首屏速度 prefetch 和 preload")],-1),h={},u=(0,i(6262).A)(h,[["render",function(e,l){const i=(0,n.g2)("ExternalLinkIcon");return(0,n.uX)(),(0,n.CE)("div",null,[p,(0,n.Lk)("p",null,[(0,n.Lk)("a",t,[(0,n.eW)("CDN 地址"),(0,n.bF)(i)])]),o,s,r])}]]),k=JSON.parse('{"path":"/mianshi/webpack_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html","title":"性能优化","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"打包后的结果进行优化","slug":"打包后的结果进行优化","link":"#打包后的结果进行优化","children":[{"level":3,"title":"分包处理（路由懒加载） splitChunkPlugin / import 函数","slug":"分包处理-路由懒加载-splitchunkplugin-import-函数","link":"#分包处理-路由懒加载-splitchunkplugin-import-函数","children":[]},{"level":3,"title":"代码压缩","slug":"代码压缩","link":"#代码压缩","children":[]},{"level":3,"title":"删除无用代码（tree-shaking）","slug":"删除无用代码-tree-shaking","link":"#删除无用代码-tree-shaking","children":[]},{"level":3,"title":"CDN 服务器加载 需要 购买 CDN 服务器","slug":"cdn-服务器加载-需要-购买-cdn-服务器","link":"#cdn-服务器加载-需要-购买-cdn-服务器","children":[]}]},{"level":2,"title":"打包速度优化","slug":"打包速度优化","link":"#打包速度优化","children":[]}],"git":{},"filePathRelative":"mianshi/[webpack]性能优化.md"}')}}]);