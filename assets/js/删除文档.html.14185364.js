"use strict";(self.webpackChunkliwx_docs=self.webpackChunkliwx_docs||[]).push([[9294],{6910:(e,i,n)=>{n.r(i),n.d(i,{comp:()=>s,data:()=>t});var d=n(641);const a=[(0,d.Fv)('<h1 id="删除文档" tabindex="-1"><a class="header-anchor" href="#删除文档"><span>删除文档</span></a></h1><h2 id="方式1-通过指定文档id删除" tabindex="-1"><a class="header-anchor" href="#方式1-通过指定文档id删除"><span>方式1 通过指定文档ID删除</span></a></h2><p>collection.doc(_id).remove()</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>// 清理全部数据\nlet res = await collection.get()\nres.data.map(async(document) =&gt; {\n  return await collection.doc(document.id).remove();\n});\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="方式2-条件查找文档然后直接批量删除" tabindex="-1"><a class="header-anchor" href="#方式2-条件查找文档然后直接批量删除"><span>方式2 条件查找文档然后直接批量删除</span></a></h2><p>collection.where().remove()</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>// 删除字段a的值大于2的文档\nconst dbCmd = db.command\nlet res = await collection.where({\n  a: dbCmd.gt(2)\n}).remove()\n\n// 清理全部数据\nconst dbCmd = db.command\nlet res = await collection.where({\n  _id: dbCmd.exists(true)\n}).remove()\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',7)],l={},s=(0,n(6262).A)(l,[["render",function(e,i){return(0,d.uX)(),(0,d.CE)("div",null,a)}]]),t=JSON.parse('{"path":"/markdown/%E5%89%8D%E7%AB%AF/UniCloud/%E5%88%A0%E9%99%A4%E6%96%87%E6%A1%A3.html","title":"删除文档","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"方式1 通过指定文档ID删除","slug":"方式1-通过指定文档id删除","link":"#方式1-通过指定文档id删除","children":[]},{"level":2,"title":"方式2 条件查找文档然后直接批量删除","slug":"方式2-条件查找文档然后直接批量删除","link":"#方式2-条件查找文档然后直接批量删除","children":[]}],"git":{},"filePathRelative":"markdown/前端/UniCloud/删除文档.md"}')}}]);